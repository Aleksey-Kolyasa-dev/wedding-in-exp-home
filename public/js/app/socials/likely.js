var cubeShare={title:"CubeCamp.ru",width:600,height:400,init:function(){for(var t=document.querySelectorAll(".share-btn"),e=0,i=t.length;e<i;e++)for(var n=t[e].getAttribute("data-url")||location.href,h=t[e].getAttribute("data-title")||"",s=t[e].getAttribute("data-desc")||"",o=t[e].querySelectorAll("a"),r=0,c=o.length;r<c;r++){var d=o[r].getAttribute("data-id");d&&this.addEventListener(o[r],"click",{id:d,url:n,title:h,desc:s})}},addEventListener:function(t,e,i){var n=this,h=function(){n.share(i.id,i.url,i.title,i.desc)};t.addEventListener?t.addEventListener(e,h):t.attachEvent("on"+e,function(){h.call(t)})},share:function(t,e,i,n){switch(e=encodeURIComponent(e),n=encodeURIComponent(n),i=encodeURIComponent(i),t){case"fb":this.popupCenter("https://www.facebook.com/sharer/sharer.php?u="+e,this.title,this.width,this.height);break;case"vk":this.popupCenter("https://vk.com/share.php?url="+e+"&description="+i+". "+n,this.title,this.width,this.height);break;case"tw":var h=i||n||"";i.length>0&&n.length>0&&(h=i+" - "+n),h.length>0&&(h="&text="+h),this.popupCenter("https://twitter.com/intent/tweet?url="+e+h,this.title,this.width,this.height);break;case"gp":this.popupCenter("https://plus.google.com/share?url="+e,this.title,this.width,this.height);break;case"odk":this.popupCenter(" http://www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1&st._surl="+e+"&st.comments="+n,this.title,this.width,this.height);break;case"in":this.popupCenter("https://www.linkedin.com/shareArticle?mini=true&url="+e,this.title,this.width,this.height)}},newTab:function(t){window.open(t,"_blank").focus()},popupCenter:function(t,e,i,n){var h=void 0!==window.screenLeft?window.screenLeft:screen.left,s=void 0!==window.screenTop?window.screenTop:screen.top,o=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-i/2+h,r=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/3-n/3+s,c=window.open(t,e,"scrollbars=yes, width="+i+", height="+n+", top="+r+", left="+o);window.focus&&c.focus()}};cubeShare.init();