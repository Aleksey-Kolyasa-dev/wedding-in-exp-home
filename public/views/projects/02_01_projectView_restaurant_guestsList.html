<div class="guests-list-main">

    <!--FIANCE SIDE *START*-->
    <div class="fiance-side-main ">
        <header class="guests-fiance-side text-center">
            <h4 class="guests-side-head">СТОРОНА ЖЕНИХА</h4>
        </header>
        <div>
            <table class="table info-glass-panel">
                <thead class="guest-side-table-head">
                <tr style="color: white">
                    <th class="text-center">№</th>
                    <th >Имя</th>
                    <th class="text-center">Отношение</th>
                    <th class="text-center">№ группы</th>
                    <th class="text-center"><span class="glyphicon glyphicon-check"></span></th>
                </tr>
                </thead>
                <tbody>
                <tr class="guest">
                    <td class="text-center">1</td>
                    <td>{{currentProject.fianceName | uppercase}}</td>
                    <td class="text-center">жених</td>
                    <td class="text-center">0</td>
                    <td class="text-center">
                        <input type="checkbox" ng-checked="true" ng-disabled="true">
                    </td>
                </tr>
                <tr ng-class="guest.guestWillBe ? 'guest' : 'guest-abs'" ng-repeat="guest in currentProject.fianceSideGuests | orderBy : 'guestGroup'">
                    <td class="text-center">{{$index+2}}</td>
                    <td>
                        <a class="guest-link"
                           ng-class="guest.guestWillBe ? 'guest' : 'guest-abs'"
                           data-toggle="modal" data-target="#guest-edit"
                           ng-click="addNewGuests.guestEdit(currentProject.fianceSideGuests.indexOf(guest), 'M')">
                            {{guest.guestName | uppercase}}
                        </a>
                    </td>
                    <td class="text-center">{{guest.guestRelation  | lowercase}}</td>
                    <td class="text-center">{{guest.guestGroup}}</td>
                    <td class="text-center">
                        <input type="checkbox" ng-model="guest.guestWillBe" ng-disabled="checkboxDisabled" ng-change="addNewGuests.guestEditDone('M')">
                    </td>
                </tr>
                <tr>
                    <td colspan="2" style="width:200px">
                        <input type="text" ng-model="addNewGuests.newMguestName" class="new-guest-input" placeholder="Имя">
                    </td>
                    <td colspan="1" style="width:150px">
                        <input type="text" ng-model="addNewGuests.newMguestRelation" class="new-guest-input" placeholder="Отношение" list="guestRelationList">
                    </td>
                    <td>
                        <input type="number" ng-model="addNewGuests.newMguestGroup" style="width:70px" class="new-guest-input" placeholder="гр.№">
                    </td>
                    <td >
                        <button
                                type="button"
                                ng-click="addNewGuests.addNewGuest('M', addNewGuests.newMguestName, addNewGuests.newMguestRelation, addNewGuests.newMguestGroup)"
                                ng-disabled="!addNewGuests.newMguestName || !addNewGuests.newMguestRelation || !addNewGuests.newMguestGroup"
                                style="width:34px; height:30px"
                                class="btn btn-success btn-xs"
                                ><span class="glyphicon glyphicon-plus"></span></button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <!--FIANCE SIDE *END*-->

    <!--FIANCEE SIDE *START*-->
    <div class="fiancee-side-main ">
        <header class="guests-fiancee-side text-center">
            <h4 class="guests-side-head">СТОРОНА НЕВЕСТЫ</h4>
        </header>
        <div>
            <table class="table info-glass-panel">
                <thead class="guest-side-table-head2">
                <tr style="color: white">
                    <th class="text-center">№</th>
                    <th >Имя</th>
                    <th class="text-center">Отношение</th>
                    <th class="text-center">№ группы</th>
                    <th class="text-center"><span class="glyphicon glyphicon-check"></span></th>
                </tr>
                </thead>
                <tbody>
                <tr class="guest">
                    <td class="text-center">1</td>
                    <td>{{currentProject.fianceeName | uppercase}}</td>
                    <td class="text-center">невеста</td>
                    <td class="text-center">0</td>
                    <td class="text-center">
                        <input type="checkbox" ng-checked="true" ng-disabled="true">
                    </td>
                </tr>
                <tr ng-class="guest.guestWillBe ? 'guest' : 'guest-abs'"
                    ng-repeat="guest in currentProject.fianceeSideGuests | orderBy : 'guestGroup'">
                    <td class="text-center">{{$index+2}}</td>
                    <td>
                        <a class="guest-link"
                           ng-class="guest.guestWillBe ? 'guest' : 'guest-abs'"
                           data-toggle="modal" data-target="#guest-edit"
                           ng-click="addNewGuests.guestEdit(currentProject.fianceeSideGuests.indexOf(guest), 'W')">
                            {{guest.guestName | uppercase}}
                        </a>
                    </td>
                    <td class="text-center">{{guest.guestRelation  | lowercase}}</td>
                    <td class="text-center">{{guest.guestGroup}}</td>
                    <td class="text-center">
                        <input type="checkbox" ng-disabled="checkboxDisabled"  ng-model="guest.guestWillBe" ng-change="addNewGuests.guestEditDone('W')">
                    </td>
                </tr>
                <tr>
                    <td colspan="2" style="width:200px">
                        <input type="text" ng-model="addNewGuests.newWguestName" class="new-guest-input" placeholder="Имя">
                    </td>
                    <td colspan="1" style="width:150px">
                        <input type="text" ng-model="addNewGuests.newWguestRelation" class="new-guest-input" placeholder="Отношение" list="guestRelationList">
                    </td>
                    <td>
                        <input type="number" ng-model="addNewGuests.newWguestGroup" style="width:70px" class="new-guest-input" placeholder="гр.№">
                    </td>
                    <td >
                        <button
                                type="button"
                                ng-click="addNewGuests.addNewGuest('W', addNewGuests.newWguestName, addNewGuests.newWguestRelation, addNewGuests.newWguestGroup)"
                                ng-disabled="!addNewGuests.newWguestName || !addNewGuests.newWguestRelation || !addNewGuests.newWguestGroup"
                                style="width:34px; height:30px"
                                class="btn btn-success btn-xs"
                                ><span class="glyphicon glyphicon-plus"></span></button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <!--FIANCEE SIDE *END*-->

</div>

<!-- MODAL GUEST EDIT *START* -->
<div id="guest-edit" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" type="button" data-dismiss="modal">close</button>
                <h4 class="modal-title"><b>РЕДАКТИРОВАНИЕ</b></h4>
            </div>
            <div class="modal-body wed-modals">
                <div class="add-new-proj-main">
                    <form name="guestDataEdit" novalidate ng-submit="">
                        <div>
                            <div class="form-group">
                                <label>Имя</label>
                                <input class="form-control" ng-model="addNewGuests.guestUnderEdit.guestName"
                                       type="text" required ng-minlength='1'
                                       name="guestEditName" ng-class="(guestDataEdit.guestEditName.$invalid)? 'invalid-input' : 'null'">
                            </div>
                            <div class="form-group">
                                <label>Отношение</label>
                                <input class="form-control" ng-model="addNewGuests.guestUnderEdit.guestRelation"
                                       type="text" required ng-minlength='1' list="guestRelationList"
                                       name="guestEditRelation" ng-class="(guestDataEdit.guestEditRelation.$invalid)? 'invalid-input' : 'null'">
                            </div>
                            <div class="form-group">
                                <label>№ Группы</label>
                                <input class="form-control" ng-model="addNewGuests.guestUnderEdit.guestGroup" type="number" required
                                       name="guestEditGroup" ng-class="(guestDataEdit.guestEditGroup.$invalid)? 'invalid-input' : 'null'">
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox"
                                           name="guestEditWillBe"
                                           class="ch-box"
                                           style="margin-right: 5px; margin-left: 3px"
                                           ng-model="addNewGuests.guestUnderEdit.guestWillBe"
                                    >Будет в ресторане</label>
                            </div>
                            <div class="form-groupS">
                                <input type="button"
                                       class="btn btn-xs btn-danger guest-del-btn"
                                       ng-click="addNewGuests.guestDelete(addNewGuests.guestUnderEdit)"
                                       value="удалить"
                                       data-dismiss="modal"
                                       ng-disabled="addNewGuests.guestUnderEdit.guestWillBe">
                            </div>

                            <button type="submit" class="btn btn-success btn-block"
                                    ng-disabled="guestDataEdit.$invalid" data-dismiss="modal"
                                    ng-click="addNewGuests.guestEditDone(addNewGuests.guestUnderEdit.side)">
                                <b>ПРИНЯТЬ</b>
                            </button>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>
</div>
<!-- MODAL GUEST EDIT *END* -->

<datalist id="guestRelationList">
    <option value="отец">отец</option>
    <option value="мать">мать</option>
    <option value="дедушка">дедушка</option>
    <option value="бабушка">бабушка</option>
    <option value="брат">брат</option>
    <option value="сестра">сестра</option>
    <option value="тетя">тетя</option>
    <option value="дядя">дядя</option>
    <option value="крестный">крестный</option>
    <option value="крестная">крестная</option>
    <option value="свидетель">свидетель</option>
    <option value="друг">друг</option>
    <option value="коллега">коллега</option>
    <option value="гость">гость</option>
    <option value="муж сестры">муж сестры</option>
    <option value="жена брата">жена брата</option>
    <option value="племмяник">племмяник</option>
    <option value="племянница">племянница</option>

</datalist>



<!--NOTES  *START*-->
<div class="rest-general-page" style="margin-left: 15px;">
    <div class="rest-general-list">
        <div class="info-glass-panel">
            <hr>
            <div>
                <p>
                    <button class="btn btn-default" style="margin-right: 15px" data-target="#guestsNotes" data-toggle="modal"> <span class="glyphicon glyphicon-edit"></span></button>
                    Заметки:
                </p>
                <ul ng-repeat="note in notesFilter(currentProject.guestsNotes)" style="padding: 0; list-style: none">
                    <li style="font-size: 90%"><span class="rest-info-data">{{'- ' + note}}</span></li>
                </ul>
            </div>
            <hr>
        </div>
    </div>
</div>
<!--NOTES  *END*-->

<!-- NOTES MODAL *START* -->
<div id="guestsNotes" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" type="button" data-dismiss="modal">close</button>
                <h4 class="modal-title"><b>ЗАМЕТКИ</b></h4>
            </div>
            <div class="modal-body wed-modals">
                <div class="add-new-proj-main">
                    <form>
                        <div>
                            <div class="form-group" style="margin-top: 10px">
                                <label></label>
                                <textarea class="form-control" ng-model="currentProject.guestsNotes" placeholder="Каждую новую заметку начинайте с символа (*) и с новой строки"></textarea>
                            </div>
                            <hr>
                            <button type="submit" class="btn btn-success btn-block"
                                    data-dismiss="modal"
                                    ng-click="noteSave()">
                                <b>СОХРАНИТЬ</b>
                            </button>
                        </div>
                    </form>
                    <div class="deco-farames text-center">
                        <div>
                            <img src="img/frame1.png" alt="deco-frame" style="width: 150px">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- NOTES MODAL *END* -->