<div class="rest-general-page">
    <!--general data-->
    <div class="rest-general-list">
        <div class="info-glass-panel">
            <hr>
            <div>
                <p>Ресторан: <span class="rest-info-data">{{currentProject.restaurant.name}}</span></p>
                <p>Адрес: <span class="rest-info-data">{{currentProject.restaurant.address}}</span></p>
                <p>Телефон: <span class="rest-info-data">{{restGeneralDataDisplayCheck(currentProject.restaurant.telephones)}}</span></p>
                <p>Вэбсайт: <span class="rest-info-data">{{restGeneralDataDisplayCheck(currentProject.restaurant.website)}}</span></p>
            </div>
            <hr>
            <div>
                <p ng-if="!currentProject.useMenuCheck">Средний чек ресторана: <span class="rest-info-data">{{currentProject.restaurant.generalData.generalCheck  | number : 1}} {{currentProject.budget.nationalMoney}}</span></p>
                <p style="color: #dbde55" ng-if="currentProject.useMenuCheck">Расчетный чек из меню: <span class="rest-info-data">{{currentProject.restaurant.generalData.generalCheck | number : 1}} {{currentProject.budget.nationalMoney}}</span></p>
                <p>% за обслуживание: <span class="rest-info-data">{{ restGeneralDataDisplayCheck(currentProject.restaurant.generalData.generalPercent, '%') }}</span></p>
                <p>Пробковый сбор: <span class="rest-info-data">{{ restGeneralDataDisplayCheck(currentProject.restaurant.generalData.generalPlugs, currentProject.budget.nationalMoney) }}</span></p>
            </div>
            <hr>
            <div>
                <p>Оплаченно(аванс): <span class="rest-info-data">{{currentProject.restaurant.total.paidNat}} {{currentProject.budget.nationalMoney}}</span></p>
                <p ng-show="false">Оплаченно в USD: <span class="rest-info-data">{{currentProject.restaurant.total.paidUsd}}</span></p>
            </div>
            <hr>
            <div>
                <div style="float: right">
                    <button class="btn btn-default" data-target="#editRestGeneralData" data-toggle="modal">Edit <span class="glyphicon glyphicon-edit"></span></button>
                </div>
            </div>
        </div>
    </div>
    <!--general data-->

   <!-- statistic-->
    <div class="rest-general-list">
        <div class="info-glass-panel">
            <hr>
            <div class="text-center">
                <p class="rest-info-data" style="color: #f0ad4e">План расходов по ресторану: <span style="color: #ffffff">{{currentProject.restaurant.total.planNat | number : 1}} {{currentProject.budget.nationalMoney}}</span></p>
                <p class="rest-info-data" style="color: #f0ad4e">Доплатить по ресторану: <span style="color: #ffffff">{{currentProject.restaurant.total.restNat | number : 1}} {{currentProject.budget.nationalMoney}}</span></p>
                <p class="notation">*только за стол (без учета "Кондитера" и "Ресторан +")</p>
            </div>
            <hr>
            <div style="font-size: 70%;" class="text-center">
                <p class="rest-info-data">СТАТИСТИКА</p>
                <p class="rest-info-data" style="font-size: 112% !important; color: #39f18c">Расчетный чек с учетом % и сбора: <span style="color: #ffffff">{{currentProject.restaurant.generalData.fullCheckNat | number : 1}} {{currentProject.budget.nationalMoney}} за чел.</span></p>

                <p class="rest-info-data">За % обслуживания: <span>{{currentProject.restaurant.generalData.sumPercentNat | number : 1}} {{currentProject.budget.nationalMoney}}</span></p>
                <p class="rest-info-data">За пробковый сбор: <span>{{currentProject.restaurant.generalData.sumPlugsNat | number : 1}} {{currentProject.budget.nationalMoney}}</span></p>
            </div>
            <hr>
        </div>
    </div>
    <!-- statistic-->

    <!-- NOTES  *START*-->
    <div class="rest-general-page" style="margin-left: 15px;">
        <div class="rest-general-list">
            <div class="info-glass-panel">
                <hr>
                <div>
                    <p>
                        <button class="btn btn-default" style="margin-right: 15px" data-target="#restNotes" data-toggle="modal"> <span class="glyphicon glyphicon-edit"></span></button>
                        Заметки:
                    </p>
                    <ul ng-repeat="note in notesFilter(currentProject.restNotes)" style="padding: 0; list-style: none">
                        <li style="font-size: 90%"><span class="rest-info-data">{{'- ' + note}}</span></li>
                    </ul>
                </div>
                <hr>
            </div>
        </div>
    </div>
    <!-- NOTES  *END*-->

    <!-- NOTES MODAL *START* -->
    <div id="restNotes" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button class="close" type="button" data-dismiss="modal">close</button>
                    <h4 class="modal-title"><b>ЗАМЕТКИ</b></h4>
                </div>
                <div class="modal-body wed-modals">
                    <div class="add-new-proj-main">
                        <form>
                            <div>
                                <div class="form-group" style="margin-top: 10px">
                                    <label></label>
                                    <textarea class="form-control" ng-model="currentProject.restNotes" placeholder="Каждую новую заметку начинайте с символа (*) и с новой строки"></textarea>
                                </div>
                                <hr>
                                <button type="submit" class="btn btn-success btn-block"
                                        data-dismiss="modal"
                                        ng-click="noteRestSave()">
                                    <b>СОХРАНИТЬ</b>
                                </button>
                            </div>
                        </form>
                        <div class="deco-farames text-center">
                            <div>
                                <img src="img/frame1.png" alt="deco-frame" style="width: 150px">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- NOTES MODAL *END* -->
</div>

<!-- EDIT RESTAURANT GENERAL DATA MODAL *START* -->
<div id="editRestGeneralData" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" type="button" data-dismiss="modal">close</button>
                <h4 class="modal-title"><b>РЕСТОРАН</b></h4>
            </div>
            <div class="modal-body wed-modals">
                <div class="add-new-proj-main">
                    <form name="editRestGeneralDataForm" novalidate ng-submit="">
                        <div class="">
                            <div class="form-group">
                                <label>Название ресторана</label>
                                <input class="form-control" ng-model="currentProject.restaurant.name" type="text" required ng-minlength='1'
                                       name="editRestGeneralName" style="{{(editRestGeneralDataForm.editRestGeneralName.$invalid)? 'background: rgba(226, 251, 96, 0.81)' : 'null'}}">
                            </div>
                            <div class="form-group">
                                <label>Адресс ресторана</label>
                                <input class="form-control" ng-model="currentProject.restaurant.address" type="text" required ng-minlength='1'
                                       name="editRestGeneralAddress" style="{{(editRestGeneralDataForm.editRestGeneralAddress.$invalid)? 'background: rgba(226, 251, 96, 0.81)' : 'null'}}">
                            </div>
                            <div class="form-group">
                                <label>Контактный тлф.</label>
                                <input class="form-control" ng-model="currentProject.restaurant.telephones"
                                       type="text">
                            </div>
                            <div class="form-group">
                                <label>Вэбсайт</label>
                                <input class="form-control" ng-model="currentProject.restaurant.website"
                                       type="text">
                            </div>
                            <hr>
                            <div class="form-group text-center">
                                <label>Средний чек {{currentProject.budget.nationalMoney}}
                                <input ng-disabled="currentProject.useMenuCheck"
                                       style="{{editRestGeneralDataForm.editRestGeneralCheck.$invalid? 'background: rgba(226, 251, 96, 0.81)': currentProject.useMenuCheck? 'background: rgba(112, 205, 88, 0.44); color: #ffffff' : 'null'}}"
                                       class="form-control text-center" ng-model="currentProject.restaurant.generalData.generalCheck" type="number" required
                                       name="editRestGeneralCheck" >
                                </label>
                            </div>
                            <div class="text-center">
                                <div class="form-group" style="width: 100%">
                                    <label id="menu-check-use" style="{{(currentProject.useMenuCheck)? 'color: #76dc5e': 'color: #ffffff'}}">
                                        <input style="width: 18px; height: 18px; cursor: pointer;" ng-model="currentProject.useMenuCheck" ng-change="menuCheck()"
                                               type="checkbox"> <span style="margin-bottom: 5px;">Использовать чек из меню</span>
                                    </label>
                                </div>
                            </div>
                            <div class="form-group text-center">
                                <label>% за обслуживание
                                <input class="form-control text-center" ng-model="currentProject.restaurant.generalData.generalPercent" type="number" required
                                       name="editRestGeneralPercent" style="{{(editRestGeneralDataForm.editRestGeneralPercent.$invalid)? 'background: rgba(226, 251, 96, 0.81)' : 'null'}}">
                                </label>
                            </div>
                            <div class="form-group text-center">
                                <label>Пробковый сбор {{currentProject.budget.nationalMoney}}
                                <input class="form-control text-center" ng-model="currentProject.restaurant.generalData.generalPlugs" type="number" required
                                       name="editRestGeneralPlugs" style="{{(editRestGeneralDataForm.editRestGeneralPlugs.$invalid)? 'background: rgba(226, 251, 96, 0.81)' : 'null'}}">
                                </label>
                            </div>
                            <hr>
                            <div class="form-group text-center">
                                <label>Оплаченно в {{currentProject.budget.nationalMoney}}
                                <input class="form-control text-center" ng-model="currentProject.restaurant.total.paidNat" required type="number"
                                       name="editRestGeneralPaid" style="{{(editRestGeneralDataForm.editRestGeneralPaid.$invalid)? 'background: rgba(226, 251, 96, 0.81)' : 'null'}}">
                                </label>
                            </div>
                            <hr>

                            <button type="submit" class="btn btn-success btn-block"
                                    ng-disabled="editRestGeneralDataForm.$invalid" data-dismiss="modal"
                                    ng-click="restDataSave()">
                                <b>ПРИМЕНИТЬ</b>
                            </button>
                        </div>
                    </form>
                    <div class="deco-farames text-center">
                        <div>
                            <img src="img/frame1.png" alt="deco-frame" style="width: 150px">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- EDIT RESTAURANT GENERAL DATA MODAL *END* -->
